!function(){"use strict";var e={937:function(e,t,n){e.exports=n.p+"3755f99ca093e6e21308.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function e(t,n,o){var i=this,u=t.card,a=t.handleCardClick,c=t.handleTrashBtnClick,s=t.handleLikeBtnClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_getCardDOMElements",(function(){i._cardImg=i._cardElement.querySelector(".element__img"),i._cardTitle=i._cardElement.querySelector(".element__title"),i._cardLikeBtn=i._cardElement.querySelector(".element__like-btn"),i._cardLikeCount=i._cardElement.querySelector(".element__like-count"),i._cardDeleteBtn=i._cardElement.querySelector(".element__delete-btn")})),r(this,"_checkUserIdentity",(function(){return i._imgOwnerInfo._id===i._userId})),r(this,"_isImgAlreadyLiked",(function(e){return e.target.classList.contains("element__like-btn_active")})),r(this,"_checkIfLiked",(function(){return i._imgLikes.some((function(e){return e._id===i._userId}))})),r(this,"renderLikes",(function(e){i._cardLikeCount.textContent=e.likes.length,i._cardLikeBtn.classList.toggle("element__like-btn_active")})),this._imgId=u._id,this._imgOwnerInfo=u.owner,this._imgName=u.name,this._imgLink=u.link,this._imgLikes=u.likes,this._cardData=u,this._userId=o,this._handleCardClick=a,this._handleTrashBtnClick=c,this._handleLikeBtnClick=s,this._cardTemplateSelector=n}var n,o;return n=e,(o=[{key:"_getTemplate",value:function(){this._cardElement=document.querySelector(this._cardTemplateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._checkUserIdentity()?this._cardDeleteBtn.addEventListener("click",(function(t){return e._handleTrashBtnClick(t)})):(this._cardDeleteBtn.remove(),this._cardDeleteBtn=null),this._cardLikeBtn.addEventListener("click",(function(t){return e._handleLikeBtnClick(e._isImgAlreadyLiked(t),e._imgId)})),this._cardImg.addEventListener("click",(function(){return e._handleCardClick(e._imgName,e._imgLink)}))}},{key:"generateCard",value:function(){return this._getTemplate(),this._getCardDOMElements(),this._setEventListeners(),this._cardImg.src=this._imgLink,this._cardImg.alt=this._imgName,this._cardTitle.textContent=this._imgName,this._checkIfLiked()&&this.renderLikes(this._cardData),this._cardElement}}])&&t(n.prototype,o),e}();function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._inputList=function(e){if(Array.isArray(e))return i(e)}(r=this._formElement.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._inactiveButtonClass)):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._inactiveButtonClass))}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){return t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}},{key:"resetFormValidation",value:function(){var e=this;this._formElement.reset(),this._inputList.forEach((function(t){return e._hideInputError(t)}))}}])&&u(t.prototype,n),e}(),c=a;function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),l(this,"_handleClickClose",(function(e){e.target.classList.contains("popup_opened")&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close-btn").addEventListener("click",(function(){return e.close()}))}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("click",this._handleClickClose),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("click",this._handleClickClose),document.removeEventListener("keydown",this._handleEscClose)}}])&&s(t.prototype,n),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},_(e,t,n||e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(o){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formElement=n._popup.querySelector(".popup__form"),n._handleFormSubmit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e;this._inputElementsList=function(e){if(Array.isArray(e))return h(e)}(e=this._formElement.querySelectorAll(".popup__input"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t={};return this._inputElementsList.forEach((function(e){return t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var e=this;_(v(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e._formElement.reset()}))}},{key:"close",value:function(){_(v(u.prototype),"close",this).call(this),this._formElement.reset()}}])&&d(t.prototype,n),u}(f);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},E(e,t,n||e)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function C(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImgElement=t._popup.querySelector(".popup__img"),t._popupImgCaptionElement=t._popup.querySelector(".popup__caption"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImgCaptionElement.textContent=e,this._popupImgElement.src=t,this._popupImgElement.alt=e,E(w(u.prototype),"open",this).call(this)}}])&&S(t.prototype,n),u}(f);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},P(e,t,n||e)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function T(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formElement=n._popup.querySelector(".popup__form"),n._handleFormSubmit=t,n}return t=u,(n=[{key:"open",value:function(e,t){P(B(u.prototype),"open",this).call(this),this._cardId=t,this._cardToDelete=e.target.closest(".element")}},{key:"setEventListeners",value:function(){var e=this;P(B(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._cardId,e._cardToDelete)}))}}])&&I(t.prototype,n),u}(f);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(e){this.clear(),e.forEach(this._renderer)}}])&&q(t.prototype,n),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=t.userTitleSelector,r=t.userSubtitleSelector,o=t.userProfilePicSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userTitleElement=document.querySelector(n),this._userSubtitleElement=document.querySelector(r),this._userProfilePicElement=document.querySelector(o),this._userTitle=this._userTitleElement.textContent,this._userSubtitle=this._userSubtitleElement.textContent,this._userProfilePic=this._userProfilePicElement.src}var t,n;return t=e,n=[{key:"getUserInfo",value:function(){return{id:this._userId,name:this._userTitle,about:this._userSubtitle,avatar:this._userProfilePic}}},{key:"setUserInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._userTitle,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._userSubtitle,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._userProfilePic,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._userId;this._userId=r,this._userTitleElement.textContent=e,this._userSubtitleElement.textContent=t,this._userProfilePicElement.src=n,this._userProfilePicElement.alt=e,this._userTitle=e,this._userSubtitle=t,this._userProfilePic=n}}],n&&D(t.prototype,n),e}(),A=x,V=n(937),N={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},F=document.querySelector(".logo"),M=document.querySelector(".profile__edit-btn"),H=document.querySelector(".popup_rel_profile").querySelector(".popup__form"),J=H.querySelector("#name-input"),$=H.querySelector("#about-input"),z=document.querySelector(".profile__add-btn"),G=document.querySelector(".popup_rel_place").querySelector(".popup__form"),K=document.querySelector(".profile__avatar-update-button"),Q=document.querySelector(".popup_rel_avatar").querySelector(".popup__form"),W=function(e,t){e.querySelector(".popup__submit").textContent=t},X=new function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"_checkResponseStatus",(function(e){return e.ok?e.json():Promise.reject("Error Code: ".concat(e.status," | Error Msg: ").concat(e.statusText))})),e(this,"getInitialCards",(function(){return fetch("".concat(r._baseUrl,"/cards"),{headers:r._headers}).then(r._checkResponseStatus)})),e(this,"addNewCard",(function(e,t){return fetch("".concat(r._baseUrl,"/cards"),{method:"POST",headers:r._headers,body:JSON.stringify({name:e,link:t})}).then(r._checkResponseStatus)})),e(this,"deleteCard",(function(e){return fetch("".concat(r._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:r._headers}).then(r._checkResponseStatus)})),e(this,"likeCard",(function(e){return fetch("".concat(r._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:r._headers}).then(r._checkResponseStatus)})),e(this,"unlikeCard",(function(e){return fetch("".concat(r._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:r._headers}).then(r._checkResponseStatus)})),e(this,"getUserData",(function(){return fetch("".concat(r._baseUrl,"/users/me"),{headers:r._headers}).then(r._checkResponseStatus)})),e(this,"updateUserData",(function(e,t){return fetch("".concat(r._baseUrl,"/users/me"),{method:"PATCH",headers:r._headers,body:JSON.stringify({name:e,about:t})}).then(r._checkResponseStatus)})),e(this,"updateUserAvatar",(function(e){return fetch("".concat(r._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:r._headers,body:JSON.stringify({avatar:e})}).then(r._checkResponseStatus)})),this._baseUrl=n.baseUrl,this._headers=n.headers}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"9bc9c0f1-5a8a-40aa-b985-20e7b24d1389","Content-Type":"application/json"}});F.src=V;var Y=new c(N,H),Z=new c(N,G),ee=new c(N,Q);Y.enableValidation(),Z.enableValidation(),ee.enableValidation();var te=new A({userTitleSelector:".profile__title",userSubtitleSelector:".profile__subtitle",userProfilePicSelector:".profile__avatar"});X.getUserData().then((function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id;te.setUserInfo(t,n,r,o)})).catch((function(e){return console.log(e)}));var ne=new L(".popup_rel_image");ne.setEventListeners();var re=function(e){var t=new o({card:e,handleCardClick:function(e,t){return ne.open(e,t)},handleTrashBtnClick:function(t){return ce.open(t,e._id)},handleLikeBtnClick:function(e,n){e?X.unlikeCard(n).then(t.renderLikes).catch((function(e){return console.log(e)})):X.likeCard(n).then(t.renderLikes).catch((function(e){return console.log(e)}))}},"#element-template",te.getUserInfo().id);return t},oe=new U({renderer:function(e){var t=re(e).generateCard();oe.addItem(t)}},".elements");X.getInitialCards().then((function(e){return oe.renderItems(e)})).catch((function(e){return console.log(e)}));var ie=new b(".popup_rel_profile",(function(e){var t=e.title,n=e.subtitle;W(H,"Saving..."),X.updateUserData(t,n).then((function(e){var t=e.name,n=e.about;te.setUserInfo(t,n)})).catch((function(e){return console.log(e)})).finally((function(){return W(H,"Save")})),ie.close(),Y.toggleButtonState()}));ie.setEventListeners();var ue=new b(".popup_rel_place",(function(e){var t=e.name,n=e.link;W(G,"Creating..."),X.addNewCard(t,n).then((function(e){return oe.addItem(re(e).generateCard())})).catch((function(e){return console.log(e)})).finally((function(){return W(G,"Create")})),ue.close(),Z.toggleButtonState()}));ue.setEventListeners();var ae=new b(".popup_rel_avatar",(function(e){var t=e.avatarlink;W(Q,"Saving..."),X.updateUserAvatar(t).then((function(e){var t=e.title,n=e.subtitle,r=e.avatar;return te.setUserInfo(t,n,r)})).catch((function(e){return console.log(e)})).finally((function(){return W(Q,"Save")})),ae.close(),ee.toggleButtonState()}));ae.setEventListeners();var ce=new R(".popup_rel_delete",(function(e,t){X.deleteCard(e).then((function(){t.remove(),t=null,ce.close()})).catch((function(e){return console.log(e)}))}));ce.setEventListeners(),M.addEventListener("click",(function(){var e=te.getUserInfo(),t=e.name,n=e.about;Y.toggleButtonState(),Y.resetFormValidation(),J.value=t,$.value=n,ie.open()})),z.addEventListener("click",(function(){ue.open(),Z.toggleButtonState(),Z.resetFormValidation()})),K.addEventListener("click",(function(){ae.open(),ee.toggleButtonState(),ee.resetFormValidation()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiK0ZBQ0lBLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRQ3JCZkosRUFBb0JPLEVBQUksRyxxYUNrSHhCLEVBNUdNQyxXQU9KLGFBQThFQyxFQUFzQkMsR0FBUSxXQUEvRkMsRUFBK0YsRUFBL0ZBLEtBQU1DLEVBQXlGLEVBQXpGQSxnQkFBaUJDLEVBQXdFLEVBQXhFQSxvQkFBcUJDLEVBQW1ELEVBQW5EQSxvQiw0RkFBbUQsdUNBNEJ0RixXQUNwQixFQUFLQyxTQUF1QixFQUFLQyxhQUFhQyxjQUFjLGlCQUM1RCxFQUFLQyxXQUF1QixFQUFLRixhQUFhQyxjQUFjLG1CQUM1RCxFQUFLRSxhQUF1QixFQUFLSCxhQUFhQyxjQUFjLHNCQUM1RCxFQUFLRyxlQUF1QixFQUFLSixhQUFhQyxjQUFjLHdCQUM1RCxFQUFLSSxlQUF1QixFQUFLTCxhQUFhQyxjQUFjLDJCQWpDOEMsNkJBd0N2RixXQUNuQixPQUFRLEVBQUtLLGNBQWNDLE1BQVEsRUFBS0MsV0F6Q2tFLDZCQWlEdkYsU0FBQUMsR0FDbkIsT0FBT0EsRUFBRUMsT0FBT0MsVUFBVUMsU0FBUywrQkFsRHVFLHdCQXlENUYsa0JBQU0sRUFBS0MsVUFBVUMsTUFBSyxTQUFBQyxHQUFJLE9BQUlBLEVBQUtSLE1BQVEsRUFBS0MsY0F6RHdDLHNCQTZFOUYsU0FBQVEsR0FDWixFQUFLWixlQUFlYSxZQUFjRCxFQUFTRSxNQUFNQyxPQUNqRCxFQUFLaEIsYUFBYVEsVUFBVVMsT0FBTywrQkE5RUxDLEtBQUtDLE9BSWEzQixFQUo3Q1ksSUFDMkJjLEtBQUtmLGNBR2FYLEVBSDlDNEIsTUFDNEJGLEtBQUtHLFNBRWE3QixFQUY5QzhCLEtBQzRCSixLQUFLSyxTQUNhL0IsRUFEOUNnQyxLQUM0Qk4sS0FBS1IsVUFBYWxCLEVBQTlDdUIsTUFDRkcsS0FBS08sVUFBeUJqQyxFQUM5QjBCLEtBQUtiLFFBQXlCZCxFQUM5QjJCLEtBQUtRLGlCQUF5QmpDLEVBQzlCeUIsS0FBS1MscUJBQXlCakMsRUFDOUJ3QixLQUFLVSxvQkFBeUJqQyxFQUM5QnVCLEtBQUtXLHNCQUF5QnZDLEUsaURBTWhDLFdBQ0U0QixLQUFLckIsYUFBZWlDLFNBQ2pCaEMsY0FBY29CLEtBQUtXLHVCQUNuQkUsUUFDQWpDLGNBQWMsWUFDZGtDLFdBQVUsSyxnQ0F3Q2YsV0FBcUIsV0FDaEJkLEtBQUtlLHFCQUNOZixLQUFLaEIsZUFBZWdDLGlCQUFpQixTQUFTLFNBQUE1QixHQUFDLE9BQUksRUFBS3FCLHFCQUFxQnJCLE9BRTdFWSxLQUFLaEIsZUFBZWlDLFNBQ3BCakIsS0FBS2hCLGVBQWlCLE1BRXhCZ0IsS0FBS2xCLGFBQWFrQyxpQkFBaUIsU0FBUyxTQUFBNUIsR0FBQyxPQUFJLEVBQUtzQixvQkFBb0IsRUFBS1EsbUJBQW1COUIsR0FBSSxFQUFLYSxXQUMzR0QsS0FBS3RCLFNBQVNzQyxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLUixpQkFBaUIsRUFBS0wsU0FBVSxFQUFLRSxlLDBCQWdCMUYsV0FXRSxPQVZBTCxLQUFLbUIsZUFDTG5CLEtBQUtvQixzQkFDTHBCLEtBQUtxQixxQkFFTHJCLEtBQUt0QixTQUFTNEMsSUFBd0J0QixLQUFLSyxTQUMzQ0wsS0FBS3RCLFNBQVM2QyxJQUF3QnZCLEtBQUtHLFNBQzNDSCxLQUFLbkIsV0FBV2UsWUFBc0JJLEtBQUtHLFNBQ3hDSCxLQUFLd0IsaUJBQ054QixLQUFLeUIsWUFBWXpCLEtBQUtPLFdBRWpCUCxLQUFLckIsa0IsbUJBeEdWUixHLG9SQ0FBdUQsRUFBQUEsV0FNSixXQUFZQyxFQUF3QkMsRyxtR0FBYSxTQUNuQjVCLEtBQUs2QixjQUtnQkYsRUFMOUNHLGFBQ3lCOUIsS0FBSytCLGVBSWdCSixFQUovQ0ssY0FDMEJoQyxLQUFLaUMsc0JBR2dCTixFQUgvQ08scUJBQzBCbEMsS0FBS21DLHFCQUVnQlIsRUFGL0NTLG9CQUMwQnBDLEtBQUtxQyxpQkFDZ0JWLEVBRC9DVyxnQkFDMEJ0QyxLQUFLdUMsWUFBZ0JaLEVBQS9DYSxXQUNGeEMsS0FBS3lDLGFBQXVCYixFQUM1QjVCLEtBQUswQyxXLCtDQUEyQjFDLEtBQUt5QyxhQUFhRSxpQkFBaUIzQyxLQUFLK0Isa0IsZ2tCQUN4RS9CLEtBQUs0QyxlQUF1QjVDLEtBQUt5QyxhQUFhN0QsY0FBY29CLEtBQUtpQyx1QixxREFPbkUsV0FDRSxPQUFPakMsS0FBSzBDLFdBQVdqRCxNQUFLLFNBQUFvRCxHQUFZLE9BQUtBLEVBQWFDLFNBQVNDLFcsK0JBTXJFLFdBQ0svQyxLQUFLZ0Qsb0JBQ05oRCxLQUFLNEMsZUFBZUssVUFBVyxFQUMvQmpELEtBQUs0QyxlQUFldEQsVUFBVTRELElBQUlsRCxLQUFLbUMsd0JBRXZDbkMsS0FBSzRDLGVBQWVLLFVBQVcsRUFDL0JqRCxLQUFLNEMsZUFBZXRELFVBQVUyQixPQUFPakIsS0FBS21DLHlCLDZCQVE5QyxTQUFnQlUsR0FDZCxJQUFNTSxFQUEwQm5ELEtBQUt5QyxhQUFhN0QsY0FBbEIsV0FBb0NpRSxFQUFhTyxHQUFqRCxXQUNoQ0QsRUFBaUJ2RCxZQUFlaUQsRUFBYVEsa0JBQzdDRixFQUFpQjdELFVBQVU0RCxJQUFJbEQsS0FBS3VDLGFBQ3BDTSxFQUFhdkQsVUFBVTRELElBQUlsRCxLQUFLcUMsb0IsNkJBT2xDLFNBQWdCUSxHQUNkLElBQU1NLEVBQTBCbkQsS0FBS3lDLGFBQWE3RCxjQUFsQixXQUFvQ2lFLEVBQWFPLEdBQWpELFdBQ2hDRCxFQUFpQnZELFlBQWUsR0FDaEN1RCxFQUFpQjdELFVBQVUyQixPQUFPakIsS0FBS3VDLGFBQ3ZDTSxFQUFhdkQsVUFBVTJCLE9BQU9qQixLQUFLcUMsb0IsaUNBT3JDLFNBQW9CUSxHQUNmQSxFQUFhQyxTQUFTQyxNQUN2Qi9DLEtBQUtzRCxnQkFBZ0JULEdBRXJCN0MsS0FBS3VELGdCQUFnQlYsSyxnQ0FPekIsV0FBcUIsV0FDbkI3QyxLQUFLd0Qsb0JBQ0x4RCxLQUFLMEMsV0FBV2UsU0FBUyxTQUFBWixHQUFZLE9BQ25DQSxFQUFhN0IsaUJBQWlCLFNBQVMsV0FDckMsRUFBSzBDLG9CQUFvQmIsR0FDekIsRUFBS1csNEIsOEJBT1gsV0FDRXhELEtBQUt5QyxhQUFhekIsaUJBQWlCLFVBQVUsU0FBQTVCLEdBQUMsT0FBSUEsRUFBRXVFLG9CQUNwRDNELEtBQUtxQix1QixpQ0FNUCxXQUFzQixXQUNwQnJCLEtBQUt5QyxhQUFhbUIsUUFDbEI1RCxLQUFLMEMsV0FBV2UsU0FBUSxTQUFBWixHQUFZLE9BQUksRUFBS1MsZ0JBQWdCVCxXLG1CQWxHM0RuQixHQXVHTixJLGtTQy9DQSxFQXhETW1DLFdBS0osV0FBWUMsR0FBZSxZLDRGQUFBLG1DQVFULFNBQUExRSxHQUNILFdBQVZBLEVBQUUyRSxLQUNILEVBQUtDLFdBVmtCLDRCQWtCUCxTQUFBNUUsR0FDZkEsRUFBRUMsT0FBT0MsVUFBVUMsU0FBUyxpQkFDN0IsRUFBS3lFLFdBbkJQaEUsS0FBS2lFLE9BQXVCckQsU0FBU2hDLGNBQWNrRixHLHNEQTBCckQsV0FBb0IsV0FDSTlELEtBQUtpRSxPQUFPckYsY0FBYyxxQkFDbENvQyxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLZ0QsYSxrQkFNckQsV0FDRWhFLEtBQUtpRSxPQUFPM0UsVUFBVTRELElBQUksZ0JBQzFCdEMsU0FBU0ksaUJBQWlCLFFBQVNoQixLQUFLa0UsbUJBQ3hDdEQsU0FBU0ksaUJBQWlCLFVBQVdoQixLQUFLbUUsbUIsbUJBTTVDLFdBQ0VuRSxLQUFLaUUsT0FBTzNFLFVBQVUyQixPQUFPLGdCQUM3QkwsU0FBU3dELG9CQUFvQixRQUFTcEUsS0FBS2tFLG1CQUMzQ3RELFNBQVN3RCxvQkFBb0IsVUFBV3BFLEtBQUttRSxzQixtQkFwRDNDTixHLDB5Q0NnRE4sRUEvQ01RLFNBQUFBLEksMG9CQU1KLFdBQVlDLEVBQW1CQyxHQUFrQixhLDRGQUFBLFVBQy9DLGNBQU1ELElBQ0Q3QixhQUFlLEVBQUt3QixPQUFPckYsY0FBYyxnQkFDOUMsRUFBSzRGLGtCQUFvQkQsRUFIc0IsRSw0Q0FVakQsVyxNQUNFdkUsS0FBS3lFLG1CLCtDQUF5QnpFLEtBQUt5QyxhQUFhRSxpQkFBaUIsbUIsZ2tCQUNqRSxJQUFNK0IsRUFBYSxHQUtuQixPQUpBMUUsS0FBS3lFLG1CQUFtQmhCLFNBQ3RCLFNBQUFaLEdBQVksT0FDVjZCLEVBQVc3QixFQUFhekMsTUFBUXlDLEVBQWE4QixTQUUxQ0QsSSwrQkFNVCxXQUFvQixXQUNsQixzREFDQTFFLEtBQUt5QyxhQUFhekIsaUJBQWlCLFVBQVUsU0FBQTVCLEdBQzNDQSxFQUFFdUUsaUJBQ0YsRUFBS2Esa0JBQWtCLEVBQUtJLG1CQUM1QixFQUFLbkMsYUFBYW1CLGEsbUJBT3RCLFdBQ0UsMENBQ0E1RCxLQUFLeUMsYUFBYW1CLGEsbUJBM0NoQlMsQ0FBc0JSLEcsZ3NDQ3dCNUIsRUF4Qk1nQixTQUFBQSxJLDBvQkFLSixXQUFZZixHQUFlLGEsNEZBQUEsVUFDekIsY0FBTUEsSUFDRGdCLGlCQUEwQixFQUFLYixPQUFPckYsY0FBYyxlQUN6RCxFQUFLbUcsd0JBQTBCLEVBQUtkLE9BQU9yRixjQUFjLG1CQUhoQyxFLGlDQVczQixTQUFLb0csRUFBWUMsR0FDZmpGLEtBQUsrRSx3QkFBd0JuRixZQUFjb0YsRUFDM0NoRixLQUFLOEUsaUJBQWlCeEQsSUFBcUIyRCxFQUMzQ2pGLEtBQUs4RSxpQkFBaUJ2RCxJQUFxQnlELEVBQzNDLDhDLG1CQXBCRUgsQ0FBdUJoQixHLGdzQ0NtQzdCLEVBbkNNcUIsU0FBQUEsSSwwb0JBTUosV0FBWVosRUFBbUJDLEdBQWtCLGEsNEZBQUEsVUFDL0MsY0FBTUQsSUFDRDdCLGFBQWUsRUFBS3dCLE9BQU9yRixjQUFjLGdCQUM5QyxFQUFLNEYsa0JBQW9CRCxFQUhzQixFLGlDQVdqRCxTQUFLbkYsRUFBRytGLEdBQ04seUNBQ0FuRixLQUFLb0YsUUFBaUJELEVBQ3RCbkYsS0FBS3FGLGNBQWlCakcsRUFBRUMsT0FBT2lHLFFBQVEsYywrQkFNekMsV0FBb0IsV0FDbEIsc0RBQ0F0RixLQUFLeUMsYUFBYXpCLGlCQUFpQixVQUFVLFNBQUE1QixHQUMzQ0EsRUFBRXVFLGlCQUNGLEVBQUthLGtCQUFrQixFQUFLWSxRQUFTLEVBQUtDLHVCLG1CQTlCMUNILENBQXdCckIsRywwS0NvQzlCLEVBckNNMEIsV0FNSixhQUFnQ0MsR0FBbUIsSUFBckNDLEVBQXFDLEVBQXJDQSxNQUFPQyxFQUE4QixFQUE5QkEsVSw0RkFBOEIsU0FDakQxRixLQUFLMkYsT0FBaUJGLEVBQ3RCekYsS0FBSzRGLFVBQWlCRixFQUN0QjFGLEtBQUs2RixXQUFpQmpGLFNBQVNoQyxjQUFjNEcsRyw0Q0FPL0MsU0FBUU0sR0FDTjlGLEtBQUs2RixXQUFXRSxRQUFRRCxLLG1CQU0xQixXQUNFOUYsS0FBSzZGLFdBQVdHLFVBQVksSyx5QkFPOUIsU0FBWVAsR0FDVnpGLEtBQUtpRyxRQUNMUixFQUFNaEMsUUFBUXpELEtBQUs0RixnQixtQkFqQ2pCTCxHLDBLQ0FBVyxFQUFBQSxXQVFKLGNBQStFLElBQWxFQyxFQUFrRSxFQUFsRUEsa0JBQW1CQyxFQUErQyxFQUEvQ0EscUJBQXNCQyxFQUF5QixFQUF6QkEsd0IsNEZBQXlCLFNBQzdFckcsS0FBS3NHLGtCQUF5QjFGLFNBQVNoQyxjQUFjdUgsR0FDckRuRyxLQUFLdUcscUJBQXlCM0YsU0FBU2hDLGNBQWN3SCxHQUNyRHBHLEtBQUt3Ryx1QkFBeUI1RixTQUFTaEMsY0FBY3lILEdBQ3JEckcsS0FBS3lHLFdBQXlCekcsS0FBS3NHLGtCQUFrQjFHLFlBQ3JESSxLQUFLMEcsY0FBeUIxRyxLQUFLdUcscUJBQXFCM0csWUFDeERJLEtBQUsyRyxnQkFBeUIzRyxLQUFLd0csdUJBQXVCbEYsSSwrQ0FPNUQsV0FPRSxNQU5pQixDQUNmOEIsR0FBSXBELEtBQUtiLFFBQ1RpQixLQUFNSixLQUFLeUcsV0FDWEcsTUFBTzVHLEtBQUswRyxjQUNaRyxPQUFRN0csS0FBSzJHLG1CLHlCQVlqQixXQUcrQixJQUhsQkcsRUFHa0IsdURBSFY5RyxLQUFLeUcsV0FDZE0sRUFFbUIsdURBRlIvRyxLQUFLMEcsY0FDaEJHLEVBQ21CLHVEQURWN0csS0FBSzJHLGdCQUNkdkQsRUFBbUIsdURBQWRwRCxLQUFLYixRQUNwQmEsS0FBS2IsUUFBcUNpRSxFQUMxQ3BELEtBQUtzRyxrQkFBa0IxRyxZQUFtQmtILEVBQzFDOUcsS0FBS3VHLHFCQUFxQjNHLFlBQWdCbUgsRUFDMUMvRyxLQUFLd0csdUJBQXVCbEYsSUFBY3VGLEVBQzFDN0csS0FBS3dHLHVCQUF1QmpGLElBQWN1RixFQUMxQzlHLEtBQUt5RyxXQUFxQ0ssRUFDMUM5RyxLQUFLMEcsY0FBcUNLLEVBQzFDL0csS0FBSzJHLGdCQUFxQ0UsSyxzQkFqRHhDWCxHQXFETixJLFNDMURhdkUsRUFBeUIsQ0FDcENHLGFBQXNCLGVBQ3RCRSxjQUFzQixnQkFDdEJFLHFCQUFzQixpQkFDdEJFLG9CQUFzQix5QkFDdEJFLGdCQUFzQiwwQkFDdEJFLFdBQXNCLHdCQVdYd0UsRUFBeUJwRyxTQUFTaEMsY0FBYyxTQUdoRHFJLEVBQXlCckcsU0FBU2hDLGNBQWMsc0JBSWhEc0ksRUFEeUJ0RyxTQUFTaEMsY0FBYyxzQkFDTkEsY0FBYyxnQkFDeER1SSxFQUF5QkQsRUFBcUJ0SSxjQUFjLGVBQzVEd0ksRUFBeUJGLEVBQXFCdEksY0FBYyxnQkFHNUR5SSxFQUF5QnpHLFNBQVNoQyxjQUFjLHFCQUloRDBJLEVBRHlCMUcsU0FBU2hDLGNBQWMsb0JBQ1hBLGNBQWMsZ0JBR25EMkksRUFBeUIzRyxTQUFTaEMsY0FBYyxrQ0FJaEQ0SSxFQUR5QjVHLFNBQVNoQyxjQUFjLHFCQUNMQSxjQUFjLGdCQ3hDekQ2SSxFQUFvQixTQUFDQyxFQUFNQyxHQUN0Q0QsRUFBSzlJLGNBQWMsa0JBQWtCZ0IsWUFBYytILEdDc0QvQ0MsRUFBTSxJQzdDVixXQUFZQyxHQUFRLFksNEZBQUEsd0NBVUcsU0FBQUMsR0FDckIsT0FBUUEsRUFBU0MsR0FDYkQsRUFBU0UsT0FDVEMsUUFBUUMsT0FBUixzQkFBOEJKLEVBQVNLLE9BQXZDLHlCQUE4REwsRUFBU00sZ0JBYnpELDBCQW9CRixXQUNoQixPQUFPQyxNQUFNLEdBQUQsT0FBSSxFQUFLQyxTQUFULFVBQTJCLENBQ3JDQyxRQUFTLEVBQUtDLFdBRWJDLEtBQUssRUFBTUMseUJBeEJJLHFCQWlDUCxTQUFDQyxFQUFVQyxHQUN0QixPQUFPUCxNQUFNLEdBQUQsT0FBSSxFQUFLQyxTQUFULFVBQTBCLENBQ3BDTyxPQUFRLE9BQ1JOLFFBQVMsRUFBS0MsU0FDZE0sS0FBTUMsS0FBS0MsVUFBVSxDQUNuQjVJLEtBQU11SSxFQUNOckksS0FBTXNJLE1BR1BILEtBQUssRUFBTUMseUJBMUNJLHFCQWtEUCxTQUFBdkQsR0FDWCxPQUFPa0QsTUFBTSxHQUFELE9BQUksRUFBS0MsU0FBVCxrQkFBMkJuRCxHQUFVLENBQy9DMEQsT0FBUSxTQUNSTixRQUFTLEVBQUtDLFdBRWJDLEtBQUssRUFBTUMseUJBdkRJLG1CQStEVCxTQUFBdkQsR0FDVCxPQUFPa0QsTUFBTSxHQUFELE9BQUksRUFBS0MsU0FBVCx3QkFBaUNuRCxHQUFVLENBQ3JEMEQsT0FBUSxNQUNSTixRQUFTLEVBQUtDLFdBRWJDLEtBQUssRUFBTUMseUJBcEVJLHFCQTRFUCxTQUFBdkQsR0FDWCxPQUFPa0QsTUFBTSxHQUFELE9BQUksRUFBS0MsU0FBVCx3QkFBaUNuRCxHQUFVLENBQ3JEMEQsT0FBUSxTQUNSTixRQUFTLEVBQUtDLFdBRWJDLEtBQUssRUFBTUMseUJBakZJLHNCQXdGTixXQUNaLE9BQU9MLE1BQU0sR0FBRCxPQUFJLEVBQUtDLFNBQVQsYUFBOEIsQ0FDeENDLFFBQVMsRUFBS0MsV0FFYkMsS0FBSyxFQUFNQyx5QkE1RkkseUJBcUdILFNBQUM1QixFQUFPQyxHQUN2QixPQUFPc0IsTUFBTSxHQUFELE9BQUksRUFBS0MsU0FBVCxhQUE4QixDQUN4Q08sT0FBUSxRQUNSTixRQUFTLEVBQUtDLFNBQ2RNLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkI1SSxLQUFNMEcsRUFDTkYsTUFBT0csTUFHUjBCLEtBQUssRUFBTUMseUJBOUdJLDJCQXNIRCxTQUFBTyxHQUNqQixPQUFPWixNQUFNLEdBQUQsT0FBSSxFQUFLQyxTQUFULG9CQUFxQyxDQUMvQ08sT0FBUSxRQUNSTixRQUFTLEVBQUtDLFNBQ2RNLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJuQyxPQUFRb0MsTUFHVFIsS0FBSyxFQUFNQyx5QkE3SGQxSSxLQUFLc0ksU0FBV1QsRUFBUXFCLFFBQ3hCbEosS0FBS3dJLFNBQVdYLEVBQVFVLFFEMkNoQixDQUFRLENBQ2xCVyxRQUFTLDhDQUNUWCxRQUFTLENBQ1BZLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBU3BCbkMsRUFBZ0IxRixJQUFROEgsRUFNeEIsSUFBTUMsRUFBNEIsSUFBSTNILEVBQWNDLEVBQXdCdUYsR0FDdEVvQyxFQUE0QixJQUFJNUgsRUFBY0MsRUFBd0IyRixHQUN0RWlDLEdBQTRCLElBQUk3SCxFQUFjQyxFQUF3QjZGLEdBQzVFNkIsRUFBeUJHLG1CQUN6QkYsRUFBb0JFLG1CQUNwQkQsR0FBMEJDLG1CQU8xQixJQUFNQyxHQUFPLElBQUl2RCxFRjVFZ0IsQ0FDL0JDLGtCQUFtQixrQkFDbkJDLHFCQUFzQixxQkFDdEJDLHVCQUF3QixxQkUwRTFCdUIsRUFBSThCLGNBQ0RqQixNQUFNLFNBQUFrQixHQUNMLElBQU92SixFQUE0QnVKLEVBQTVCdkosS0FBTXdHLEVBQXNCK0MsRUFBdEIvQyxNQUFPQyxFQUFlOEMsRUFBZjlDLE9BQVEzSCxFQUFPeUssRUFBUHpLLElBQzVCdUssR0FBS0csWUFBWXhKLEVBQU13RyxFQUFPQyxFQUFRM0gsTUFFdkMySyxPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsSUFBSUYsTUFNNUIsSUFBTUcsR0FBVyxJQUFJcEYsRUFBZSxvQkFDcENvRixHQUFTQyxvQkFHVCxJQUFNQyxHQUFnQixTQUFBQyxHQUNwQixJQWdCTUMsRUFBUyxJQUFJbE0sRUFoQlMsQ0FDMUJHLEtBQU04TCxFQUNON0wsZ0JBQWlCLFNBQUM2QixFQUFNRSxHQUFQLE9BQWdCMkosR0FBU0ssS0FBS2xLLEVBQU1FLElBQ3JEOUIsb0JBQXFCLFNBQUFZLEdBQUMsT0FBSW1MLEdBQWVELEtBQUtsTCxFQUFHZ0wsRUFBS2xMLE1BQ3REVCxtQkFBb0IsU0FBQytMLEVBQW1CckYsR0FDbkNxRixFQUNENUMsRUFBSTZDLFdBQVd0RixHQUNac0QsS0FBSzRCLEVBQU81SSxhQUNab0ksT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLE1BRTVCbEMsRUFBSThDLFNBQVN2RixHQUNac0QsS0FBSzRCLEVBQU81SSxhQUNab0ksT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFFBSWEsb0JBQXFCTCxHQUFLa0IsY0FBY3ZILElBQ3JGLE9BQU9pSCxHQVVITyxHQUFlLElBQUlyRixFQUFRLENBQUVHLFNBTmIsU0FBQTBFLEdBQ3BCLElBQU1TLEVBQW9CVixHQUFjQyxHQUFNVSxlQUM5Q0YsR0FBYUcsUUFBUUYsS0FJdUMsYUFDOURqRCxFQUFJb0Qsa0JBQ0R2QyxNQUFLLFNBQUF3QyxHQUFLLE9BQUlMLEdBQWFNLFlBQVlELE1BQ3ZDcEIsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLE1BTzVCLElBWU1xQixHQUFtQixJQUFJOUcsRUFBYyxzQkFaUCxTQUFDLEdBQXNCLElBQXJCeUMsRUFBcUIsRUFBckJBLE1BQU9DLEVBQWMsRUFBZEEsU0FDM0NVLEVBQWtCUCxFQUFzQixhQUN4Q1UsRUFBSXdELGVBQWV0RSxFQUFPQyxHQUN2QjBCLE1BQUssU0FBQTRDLEdBQ0osSUFBT2pMLEVBQWVpTCxFQUFmakwsS0FBTXdHLEVBQVN5RSxFQUFUekUsTUFDYjZDLEdBQUtHLFlBQVl4SixFQUFNd0csTUFFeEJpRCxPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsSUFBSUYsTUFDekJ3QixTQUFRLGtCQUFNN0QsRUFBa0JQLEVBQXNCLFdBQ3pEaUUsR0FBaUJuSCxRQUNqQnFGLEVBQXlCN0YsdUJBRzNCMkgsR0FBaUJqQixvQkFHakIsSUFTTXFCLEdBQWMsSUFBSWxILEVBQWMsb0JBVFAsU0FBQyxHQUFpQixJQUFoQmpFLEVBQWdCLEVBQWhCQSxLQUFNRSxFQUFVLEVBQVZBLEtBQ3JDbUgsRUFBa0JILEVBQWlCLGVBQ25DTSxFQUFJNEQsV0FBV3BMLEVBQU1FLEdBQ2xCbUksTUFBSyxTQUFBZ0QsR0FBVyxPQUFJYixHQUFhRyxRQUFRWixHQUFjc0IsR0FBYVgsbUJBQ3BFakIsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLE1BQ3pCd0IsU0FBUSxrQkFBTTdELEVBQWtCSCxFQUFpQixhQUNwRGlFLEdBQVl2SCxRQUNac0YsRUFBb0I5Rix1QkFHdEIrSCxHQUFZckIsb0JBR1osSUFTTXdCLEdBQXdCLElBQUlySCxFQUFjLHFCQVRYLFNBQUMsR0FBaUIsSUFBaEJzSCxFQUFnQixFQUFoQkEsV0FDckNsRSxFQUFrQkQsRUFBdUIsYUFDekNJLEVBQUlnRSxpQkFBaUJELEdBQ2xCbEQsTUFBSyxnQkFBRTNCLEVBQUYsRUFBRUEsTUFBT0MsRUFBVCxFQUFTQSxTQUFVRixFQUFuQixFQUFtQkEsT0FBbkIsT0FBK0I0QyxHQUFLRyxZQUFZOUMsRUFBT0MsRUFBVUYsTUFDdEVnRCxPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsSUFBSUYsTUFDekJ3QixTQUFRLGtCQUFNN0QsRUFBa0JELEVBQXVCLFdBQ3hEa0UsR0FBc0IxSCxRQUN0QnVGLEdBQTBCL0YsdUJBRzlCa0ksR0FBc0J4QixvQkFHdEIsSUFTTUssR0FBaUIsSUFBSXJGLEVBQWdCLHFCQVRULFNBQUNDLEVBQVEwRyxHQUN6Q2pFLEVBQUlrRSxXQUFXM0csR0FDWnNELE1BQUssV0FDSm9ELEVBQWE1SyxTQUNiNEssRUFBZSxLQUNmdEIsR0FBZXZHLFdBRWhCNkYsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFDLElBQUlGLFNBRzlCUyxHQUFlTCxvQkFlZmpELEVBQWVqRyxpQkFBaUIsU0FSTixXQUN4QixNQUFnQ3lJLEdBQUtrQixjQUE5QnZLLEVBQVAsRUFBT0EsS0FBTXdHLEVBQWIsRUFBYUEsTUFDYnlDLEVBQXlCN0Ysb0JBQ3pCNkYsRUFBeUIwQyxzQkFDekI1RSxFQUFxQnhDLE1BQVd2RSxFQUNoQ2dILEVBQXNCekMsTUFBVWlDLEVBQ2hDdUUsR0FBaUJiLFVBVW5CakQsRUFBVXJHLGlCQUFpQixTQUxOLFdBQ25CdUssR0FBWWpCLE9BQ1poQixFQUFvQjlGLG9CQUNwQjhGLEVBQW9CeUMseUJBVXRCeEUsRUFBZ0J2RyxpQkFBaUIsU0FMTixXQUN6QjBLLEdBQXNCcEIsT0FDdEJmLEdBQTBCL0Ysb0JBQzFCK0YsR0FBMEJ3Qyx5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiBjcmVhdGluZyBhIG5ldyBpbWFnZSBjYXJkIGVsZW1lbnRcbiAqIEBtb2R1bGUgQ2FyZFxuICovXG5cbi8qKiBDbGFzcyByZXByZXNlbnRpbmcgYW4gaW1hZ2UgY2FyZCBpbiB0aGUgd2VicGFnZSAqL1xuY2xhc3MgQ2FyZCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGltYWdlIGNhcmQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBBbiBvYmplY3QgaGF2aW5nIG5ldyBpbWFnZSBjYXJkIGRldGFpbHMgYW5kIGNhbGxiYWNrcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcmRUZW1wbGF0ZVNlbGVjdG9yIC0gIFRoZSBjYXJkIHRlbXBsYXRlIGVsZW1lbnQgc2VsZWN0b3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgLSAgVGhlIGlkIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7Y2FyZCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVUcmFzaEJ0bkNsaWNrLCBoYW5kbGVMaWtlQnRuQ2xpY2t9LCBjYXJkVGVtcGxhdGVTZWxlY3RvciwgdXNlcklkKSB7XG4gICAgKHsgX2lkICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW1nSWQsXG4gICAgICBvd25lciAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW1nT3duZXJJbmZvLFxuICAgICAgbmFtZSAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2ltZ05hbWUsXG4gICAgICBsaW5rICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5faW1nTGluayxcbiAgICAgIGxpa2VzICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9pbWdMaWtlc30gPSBjYXJkKTtcbiAgICB0aGlzLl9jYXJkRGF0YSAgICAgICAgICAgICAgPSBjYXJkO1xuICAgIHRoaXMuX3VzZXJJZCAgICAgICAgICAgICAgICA9IHVzZXJJZDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgICAgICAgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlVHJhc2hCdG5DbGljayAgID0gaGFuZGxlVHJhc2hCdG5DbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnRuQ2xpY2sgICAgPSBoYW5kbGVMaWtlQnRuQ2xpY2s7XG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlU2VsZWN0b3IgID0gY2FyZFRlbXBsYXRlU2VsZWN0b3I7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW1hZ2UgY2FyZCBlbGVtZW50IGZyb20gdGhlIEhUTUwgdGVtcGxhdGUuXG4gICAqL1xuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCB0aGUgcmVxdWlyZWQgRE9NIEVsZW1lbnRzIGZyb20gdGhlIGltYWdlIGNhcmQuXG4gICAqL1xuICBfZ2V0Q2FyZERPTUVsZW1lbnRzID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmRJbWcgICAgICAgICAgICAgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltZ1wiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgICAgICAgICAgID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZUJ0biAgICAgICAgID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ0blwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZUNvdW50ICAgICAgID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWNvdW50XCIpO1xuICAgIHRoaXMuX2NhcmREZWxldGVCdG4gICAgICAgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2RlbGV0ZS1idG5cIik7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHVzZXIgaXMgdGhlIG93bmVyIG9mIHRoZSBpbWFnZS5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBvciBmYWxzZS5cbiAgICovXG4gIF9jaGVja1VzZXJJZGVudGl0eSA9ICgpID0+IHtcbiAgICByZXR1cm4gKHRoaXMuX2ltZ093bmVySW5mby5faWQgPT09IHRoaXMuX3VzZXJJZCkgPyB0cnVlIDogZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBpbWFnZSBoYXMgYmVlbiBsaWtlZCBhbHJlYWR5LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZSBUaGUgZGVmYXVsdCBldmVudCBvYmplY3QuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgb3IgZmFsc2UuXG4gICAqL1xuICBfaXNJbWdBbHJlYWR5TGlrZWQgPSBlID0+IHtcbiAgICByZXR1cm4gZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlLWJ0bl9hY3RpdmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgY3VycmVudCB1c2VyIGxpa2VkIHRoZSBjYXJkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgb3IgZmFsc2UuXG4gICAqL1xuICBfY2hlY2tJZkxpa2VkID0gKCkgPT4gdGhpcy5faW1nTGlrZXMuc29tZShsaWtlID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuXG4gIC8qKlxuICAgKiBTZXRzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSBuZXcgaW1hZ2UgY2FyZCBlbGVtZW50LlxuICAgKi9cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGlmKHRoaXMuX2NoZWNrVXNlcklkZW50aXR5KCkpe1xuICAgICAgdGhpcy5fY2FyZERlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB0aGlzLl9oYW5kbGVUcmFzaEJ0bkNsaWNrKGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2FyZERlbGV0ZUJ0bi5yZW1vdmUoKTtcbiAgICAgIHRoaXMuX2NhcmREZWxldGVCdG4gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9jYXJkTGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB0aGlzLl9oYW5kbGVMaWtlQnRuQ2xpY2sodGhpcy5faXNJbWdBbHJlYWR5TGlrZWQoZSksIHRoaXMuX2ltZ0lkKSk7XG4gICAgdGhpcy5fY2FyZEltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2ltZ05hbWUsIHRoaXMuX2ltZ0xpbmspKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIG51bWJlciBvZiBsaWtlcyBhbmQgY2hhbmdlIGxpa2VzIGJ1dHRvbiBzdGF0ZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IGNhcmREYXRhIFRoZSBkYXRhIG9mIHRoZSBpbWFnZSBjYXJkLlxuICAgKi9cbiAgcmVuZGVyTGlrZXMgPSBjYXJkRGF0YSA9PiB7XG4gICAgdGhpcy5fY2FyZExpa2VDb3VudC50ZXh0Q29udGVudCA9IGNhcmREYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9jYXJkTGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWJ0bl9hY3RpdmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgdGhlIG5ldyBpbWFnZSBjYXJkIGVsZW1lbnQgYW5kIHBvcHVsYXRlcyBpdCB3aXRoIHRoZSByZXF1aXJlZCB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBpbWFnZSBjYXJkIGVsZW1lbnQuXG4gICAqL1xuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9nZXRDYXJkRE9NRWxlbWVudHMoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY2FyZEltZy5zcmMgICAgICAgICAgICAgICAgICAgPSB0aGlzLl9pbWdMaW5rO1xuICAgIHRoaXMuX2NhcmRJbWcuYWx0ICAgICAgICAgICAgICAgICAgID0gdGhpcy5faW1nTmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgICAgICAgICA9IHRoaXMuX2ltZ05hbWU7XG4gICAgaWYodGhpcy5fY2hlY2tJZkxpa2VkKCkpe1xuICAgICAgdGhpcy5yZW5kZXJMaWtlcyh0aGlzLl9jYXJkRGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkOyIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiBhbGwgdGhlIHZhbGlkYXRpb25zIG9mIHRoZSBmb3Jtc1xuICogQG1vZHVsZSBGb3JtVmFsaWRhdG9yXG4gKi9cblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIGZvcm0gdmFsaWRhdG9yICovXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZm9ybSB2YWxpZGF0b3IuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmb3JtVmFsaWRhdGlvblNldHRpbmdzIC0gVGhlIG9iamVjdCBoYXZpbmcgYWxsIHRoZSByZXF1aXJlZCBzZXR0aW5ncyBmb3IgZm9ybSB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZm9ybUVsZW1lbnQgLSAgVGhlIGZvcm0gZWxlbWVudCB0aGF0IGhhcyB0byBiZSB2YWxpZGF0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihmb3JtVmFsaWRhdGlvblNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgICh7IGZvcm1TZWxlY3RvciAgICAgICAgICAgOiB0aGlzLl9mb3JtU2VsZWN0b3IsXG4gICAgICBpbnB1dFNlbGVjdG9yICAgICAgICAgICA6IHRoaXMuX2lucHV0U2VsZWN0b3IsXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3RvciAgICA6IHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yLFxuICAgICAgaW5hY3RpdmVCdXR0b25DbGFzcyAgICAgOiB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzLFxuICAgICAgaW5wdXRFcnJvckNsYXNzICAgICAgICAgOiB0aGlzLl9pbnB1dEVycm9yQ2xhc3MsXG4gICAgICBlcnJvckNsYXNzICAgICAgICAgICAgICA6IHRoaXMuX2Vycm9yQ2xhc3MgfSA9IGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ICAgICAgICAgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgICAgICAgICAgID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgICAgICAgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQ2hlY2tzIGlmIGFsbCB0aGUgSW5wdXQgRWxlbWVudHMgYXJlIHZhbGlkIGF0IHRoZSBtb21lbnQuXG4gICAqICBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZS9mYWxzZVxuICAgKi9cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoaW5wdXRFbGVtZW50ID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqICBUb2dnbGVzIHRoZSBzdGF0ZSAoYWN0aXZlIG9yIGluYWN0aXZlKSBvZiB0aGUgU3VibWl0IGJ1dHRvbi5cbiAgICovXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgU2hvd3MgdGhlIGVycm9yIG1lc3NhZ2UgYW5kIGNoYW5nZSB0aGUgSW5wdXQgRWxlbWVudCBzdHlsZVxuICAgKiAgQHBhcmFtIHtPYmplY3R9IGlucHV0RWxlbWVudCBUaGUgYWN0aXZlIGlucHV0IGVsZW1lbnQgYXQgdGhlIG1vbWVudC5cbiAgICovXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvclNwYW5FbGVtZW50ICAgICAgICA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvclNwYW5FbGVtZW50LnRleHRDb250ZW50ICA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvclNwYW5FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgSGlkZXMgdGhlIGVycm9yIG1lc3NhZ2UgYW5kIGNoYW5nZSB0aGUgSW5wdXQgRWxlbWVudCBzdHlsZVxuICAgKiAgQHBhcmFtIHtPYmplY3R9IGlucHV0RWxlbWVudCBUaGUgYWN0aXZlIGlucHV0IGVsZW1lbnQgYXQgdGhlIG1vbWVudC5cbiAgICovXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvclNwYW5FbGVtZW50ICAgICAgICA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBlcnJvclNwYW5FbGVtZW50LnRleHRDb250ZW50ICA9IFwiXCI7XG4gICAgZXJyb3JTcGFuRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH1cblxuICAvKipcbiAgICogIENoZWNrcyBpZiB0aGUgY29udGVudCBvZiB0aGUgSW5wdXQgRWxlbWVudCBpcyB2YWxpZCBhdCB0aGUgbW9tZW50IGFuZCBoaWRlIG9yIHNob3cgZXJyb3JzIGFjY29yZGluZ2x5XG4gICAqICBAcGFyYW0ge09iamVjdH0gaW5wdXRFbGVtZW50IFRoZSBhY3RpdmUgaW5wdXQgZWxlbWVudCBhdCB0aGUgbW9tZW50LlxuICAgKi9cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZihpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpe1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogIEZpbmRzIGFsbCB0aGUgZmllbGRzIG9mIHRoZSBmb3JtIGFuZCBzZXQgJ2lucHV0JyBldmVudCBsaXN0ZW5lclxuICAgKi9cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCggaW5wdXRFbGVtZW50ID0+XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgRW5hYmxlcyBhbGwgdGhlIHZhbGlkYXRpb25zIGZvciB0aGUgY3VycmVudCBmb3JtXG4gICAqL1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogIFJlc2V0cyBmb3JtIHZhbGlkYXRpb24gaW4gdGhlIGN1cnJlbnQgZm9ybS5cbiAgICovXG4gIHJlc2V0Rm9ybVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiBnZW5lcmljIGZ1bmN0aW9uYWxpdGllcyBvZiBhIHBvcHVwLCBsaWtlIG9wZW5pbmcgYW5kIGNsb3Npbmcgb2YgYSBwb3B1cCB3aW5kb3dcbiAqIEBtb2R1bGUgUG9wdXBcbiAqL1xuXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIGEgUG9wdXAgY29tcG9uZW50IHRoYXQgaGFzIGZ1bmN0aW9uYWxpdHkgdG8gb3BlbiBhbmQgY2xvc2UgdGhlIHBvcHVwIHdpbmRvdy4gKi9cbmNsYXNzIFBvcHVwIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUG9wdXAgY29tcG9uZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9wdXBTZWxlY3RvciAtICBUaGUgQ1NTIGNsYXNzIHNlbGVjdG9yIHRvIHNlbGVjdCB0aGUgcG9wdXAgd2luZG93LlxuICAgKi9cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwICAgICAgICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsb3Npbmcgb2YgdGhlIG9wZW5lZCBwb3B1cCBieSBwcmVzc2luZyBFc2NhcGUga2V5LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZSBUaGUgZGVmYXVsdCBldmVudCBvYmplY3QuXG4gICAqL1xuICBfaGFuZGxlRXNjQ2xvc2UgPSBlID0+IHtcbiAgICBpZihlLmtleSA9PT0gXCJFc2NhcGVcIil7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsb3Npbmcgb2YgdGhlIG9wZW5lZCBwb3B1cCBieSBtb3VzZSBjbGljayBvbiBvdmVybGF5IG91dHNpZGUgdGhlIGJvcmRlcnMgb2YgdGhlIHBvcHVwIGl0c2VsZi5cbiAgICogQHBhcmFtIHtPYmplY3R9IGUgVGhlIGRlZmF1bHQgZXZlbnQgb2JqZWN0LlxuICAgKi9cbiAgX2hhbmRsZUNsaWNrQ2xvc2UgPSBlID0+IHtcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpe1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSBwb3B1cCB3aW5kb3cuXG4gICAqL1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBwb3B1cENsb3NlQnRuID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnRuXCIpO1xuICAgIHBvcHVwQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIHBvcHVwIGFuZCBhdHRhY2hlcyB0aGUgcmVxdWlyZWQgZXZlbnQgbGlzdGVuZXJzLlxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBwb3B1cCBhbmQgcmVtb3ZlcyB0aGUgcmVxdWlyZWQgZXZlbnQgbGlzdGVuZXJzLlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwOyIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiBzcGVjaWZpYyBmdW5jdGlvbmFsaXRpZXMgb2YgYSBQb3B1cCB3aXRoIGEgRm9ybSBlbGVtZW50LlxuICogQG1vZHVsZSBQb3B1cFdpdGhGb3JtXG4gKi9cbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG4vKiogQ2xhc3MgZXh0ZW5kaW5nIGZyb20gdGhlIHBhcmVudCBQb3B1cCBjb21wb25lbnQgdG8gaW1wbGVtZW50IHRoZSBmdW5jdGlvbmFsaXRpZXMgc3BlY2lmaWMgdG8gdGhlIEZvcm0gUG9wdXAgQ29tcG9uZW50ICovXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBGb3JtIFBvcHVwIGNvbXBvbmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGZvcm1Qb3B1cFNlbGVjdG9yIC0gIFRoZSBDU1MgY2xhc3Mgc2VsZWN0b3IgdG8gc2VsZWN0IHRoZSBmb3JtIHBvcHVwIHdpbmRvdy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihPYmplY3QpfSBoYW5kbGVGb3JtU3VibWl0IC0gVGhlIGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyB0aGUgZm9ybSdzIGBzdWJtaXRgIGV2ZW50XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihmb3JtUG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKGZvcm1Qb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgdGhlIHZhbHVlcyBvZiB0aGUgaW5wdXQgZWxlbWVudHMgb2YgdGhlIGZvcm0uXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBoYXZpbmcgYWxsIHRoZSB2YWx1ZXMgb2YgdGhlIGZvcm0gZmllbGRzLlxuICAgKi9cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHNMaXN0ID0gWy4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRFbGVtZW50c0xpc3QuZm9yRWFjaChcbiAgICAgIGlucHV0RWxlbWVudCA9PiBcbiAgICAgICAgZm9ybVZhbHVlc1tpbnB1dEVsZW1lbnQubmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWVcbiAgICApO1xuICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgb24gdGhlIHBvcHVwIHdpbmRvdyB3aXRoIGZvcm1cbiAgICovXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBlID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgcG9wdXAgd2l0aCBmb3JtLCByZW1vdmVzIHRoZSByZXF1aXJlZCBldmVudCBsaXN0ZW5lcnMgYW5kIHJlc2V0cyB0aGUgZm9ybSBmaWVsZHMuXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTsiLCIvKipcbiAqIFRoaXMgbW9kdWxlIHRha2VzIGNhcmUgb2YgYWRkaW5nIGFuIGltYWdlIHRvIHRoZSBwb3B1cCB3aXRoIGl0cyBzcmMgYXR0cmlidXRlIGFuZCBjYXB0aW9uLlxuICogQG1vZHVsZSBQb3B1cFdpdGhJbWFnZVxuICovXG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuLyoqIENsYXNzIGV4dGVuZGluZyBmcm9tIHRoZSBwYXJlbnQgUG9wdXAgY29tcG9uZW50IHRvIGltcGxlbWVudCB0aGUgZnVuY3Rpb25hbGl0aWVzIHNwZWNpZmljIHRvIHRoZSBJbWFnZSBQb3B1cCBDb21wb25lbnQgKi9cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBJbWFnZSBQb3B1cCBjb21wb25lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3B1cFNlbGVjdG9yIC0gIFRoZSBDU1MgY2xhc3Mgc2VsZWN0b3IgdG8gc2VsZWN0IHRoZSBpbWFnZSBwb3B1cCB3aW5kb3cuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWdFbGVtZW50ICAgICAgICA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltZ1wiKTtcbiAgICB0aGlzLl9wb3B1cEltZ0NhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgaW1hZ2UgcG9wdXAgYW5kIHNldHMgdGhlIGltYWdlIGNhcHRpb24gYW5kIGxpbmsuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbWdDYXB0aW9uIC0gIFRoZSBjYXB0aW9uIG9mIHRoZSBpbWFnZSB0byBiZSBwcmV2aWV3ZWQgb3Igb3BlbmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW1nTGluayAtICBUaGUgdXJsIG9yIGxpbmsgb2YgdGhlIGltYWdlIHRvIGJlIHByZXZpZXdlZCBvciBvcGVuZWQuXG4gICAqL1xuICBvcGVuKGltZ0NhcHRpb24sIGltZ0xpbmspIHtcbiAgICB0aGlzLl9wb3B1cEltZ0NhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gaW1nQ2FwdGlvbjtcbiAgICB0aGlzLl9wb3B1cEltZ0VsZW1lbnQuc3JjICAgICAgICAgICAgICAgID0gaW1nTGluaztcbiAgICB0aGlzLl9wb3B1cEltZ0VsZW1lbnQuYWx0ICAgICAgICAgICAgICAgID0gaW1nQ2FwdGlvbjtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7IiwiLyoqXG4gKiBUaGlzIG1vZHVsZSB0YWtlcyBjYXJlIG9mIHNwZWNpZmljIGZ1bmN0aW9uYWxpdGllcyBvZiBhIFBvcHVwIGZvciBkZWxldGluZyBhbiBpbWFnZSBjYXJkLlxuICogQG1vZHVsZSBQb3B1cFdpdGhGb3JtXG4gKi9cbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG4vKiogQ2xhc3MgZXh0ZW5kaW5nIGZyb20gdGhlIHBhcmVudCBQb3B1cCBjb21wb25lbnQgdG8gaW1wbGVtZW50IHRoZSBmdW5jdGlvbmFsaXRpZXMgb2YgYSBQb3B1cCBmb3IgZGVsZXRpbmcgYW4gaW1hZ2UgY2FyZC4gKi9cbmNsYXNzIFBvcHVwRGVsZXRlQ2FyZCBleHRlbmRzIFBvcHVwIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUG9wdXAgY29tcG9uZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybVBvcHVwU2VsZWN0b3IgLSAgVGhlIENTUyBjbGFzcyBzZWxlY3RvciB0byBzZWxlY3QgdGhlIGZvcm0gcG9wdXAgd2luZG93LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCl9IGhhbmRsZUZvcm1TdWJtaXQgLSBUaGUgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIHRoZSBmb3JtJ3MgYHN1Ym1pdGAgZXZlbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcm1Qb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoZm9ybVBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgcG9wdXAgYW5kIGF0dGFjaGVzIHRoZSByZXF1aXJlZCBldmVudCBsaXN0ZW5lcnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBkZWZhdWx0IGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcmRJZCBUaGUgaWQgb2YgdGhlIGltYWdlIGNhcmQgdG8gZGVsZXRlLlxuICAgKi9cbiAgb3BlbihlLCBjYXJkSWQpe1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9jYXJkSWQgICAgICAgID0gY2FyZElkO1xuICAgIHRoaXMuX2NhcmRUb0RlbGV0ZSAgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmVsZW1lbnRcIik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgcG9wdXAgd2luZG93LlxuICAgKi9cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9jYXJkSWQsIHRoaXMuX2NhcmRUb0RlbGV0ZSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBEZWxldGVDYXJkOyIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiByZW5kZXJpbmcgYSBsaXN0IG9mIGVsZW1lbnRzIG9uIGEgcGFnZVxuICogQG1vZHVsZSBTZWN0aW9uXG4gKi9cblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhIExheWVyIHRoYXQgdGFrZXMgcmVhZHktbWFkZSBtYXJrdXAgYW5kIGFkZHMgaXQgdG8gdGhlIERPTS4gKi9cbmNsYXNzIFNlY3Rpb24ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBsYXllci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIFRoZSBvYmplY3QgaGFzIHR3byBwcm9wZXJ0aWVzIC0gYGl0ZW1zYCBhbmQgYHJlbmRlcmVyYC4gVGhlIGBpdGVtc2AgcHJvcGVydHkgc2VydmUgYXMgYW4gYXJyYXkgb2YgZGF0YSBhbmQgdGhlIGByZW5kZXJlcmAgcHJvcGVydHkgaXMgYSBmdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYW5kIHJlbmRlcmluZyBkYXRhIG9uIGEgcGFnZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhaW5lclNlbGVjdG9yIC0gIFRoZSBDU1MgY2xhc3Mgc2VsZWN0b3IgdG8gc2VsZWN0IHRoZSBjb250YWluZXIgZm9yIGFkZGluZyB0aGUgY2FyZCBlbGVtZW50cy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyAgICAgICAgID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgICAgICA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWtlcyBhIERPTSBlbGVtZW50IGFuZCBhZGRzIGl0IHRvIHRoZSBjb250YWluZXIuXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIEhUTUwgRWxlbWVudCB0byBhZGQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICovXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgY29udGFpbmVyIG9mIGFsbCB0aGUgY2hpbGQgZWxlbWVudHMuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlcyB0aHJvdWdoIHRoZSBhcnJheSBvZiBkYXRhIGVsZW1lbnRzIGFuZCByZW5kZXJzIGVhY2ggZWxlbWVudCBvbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIC0gIFRoZSBhcnJheSBvZiBpdGVtcyB0byByZW5kZXIuXG4gICAqL1xuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICBpdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uOyIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiByZW5kZXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgb24gdGhlIHBhZ2UuXG4gKiBAbW9kdWxlIFVzZXJJbmZvXG4gKi9cblxuLyoqIENsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgb24gdGhlIHBhZ2UuICovXG5jbGFzcyBVc2VySW5mbyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFVzZXJJbmZvIGNvbXBvbmVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtICBBbiBvYmplY3Qgd2l0aCB0aGUgc2VsZWN0b3JzIG9mIHRocmVlIGVsZW1lbnRzOiAgXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgMS4gT2YgdGhlIHVzZXIncyBuYW1lLCBcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAyLiBPZiB0aGUgdXNlcidzIGFib3V0IGluZm8gYW5kIFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgIDMuIE9mIHRoZSB1c2VyJ3MgYXZhdGFyLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe3VzZXJUaXRsZVNlbGVjdG9yLCB1c2VyU3VidGl0bGVTZWxlY3RvciwgdXNlclByb2ZpbGVQaWNTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl91c2VyVGl0bGVFbGVtZW50ICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJUaXRsZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyU3VidGl0bGVFbGVtZW50ICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJTdWJ0aXRsZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyUHJvZmlsZVBpY0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJQcm9maWxlUGljU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJUaXRsZSAgICAgICAgICAgICA9IHRoaXMuX3VzZXJUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fdXNlclN1YnRpdGxlICAgICAgICAgID0gdGhpcy5fdXNlclN1YnRpdGxlRWxlbWVudC50ZXh0Q29udGVudDtcbiAgICB0aGlzLl91c2VyUHJvZmlsZVBpYyAgICAgICAgPSB0aGlzLl91c2VyUHJvZmlsZVBpY0VsZW1lbnQuc3JjO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyLiBcbiAgICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIuIFxuICAgKi9cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICBpZDogdGhpcy5fdXNlcklkLFxuICAgICAgbmFtZTogdGhpcy5fdXNlclRpdGxlLFxuICAgICAgYWJvdXQ6IHRoaXMuX3VzZXJTdWJ0aXRsZSxcbiAgICAgIGF2YXRhcjogdGhpcy5fdXNlclByb2ZpbGVQaWNcbiAgICB9O1xuICAgIHJldHVybiB1c2VyRGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBuZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIuIFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgLSBUaGUgbmV3IG5hbWUgb3IgdGl0bGUgb2YgdGhlIHVzZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJ0aXRsZSAtIFRoZSBuZXcgam9iIG9yIHN1YnRpdGxlIG9mIHRoZSB1c2VyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXZhdGFyIC0gVGhlIFVSTCBvZiB0aGUgbmV3IGF2YXRhciBvZiB0aGUgdXNlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSB1c2VyLlxuICAgKi9cbiAgc2V0VXNlckluZm8oIHRpdGxlID0gdGhpcy5fdXNlclRpdGxlLCBcbiAgICAgICAgICAgICAgc3VidGl0bGUgPSB0aGlzLl91c2VyU3VidGl0bGUsIFxuICAgICAgICAgICAgICBhdmF0YXIgPSB0aGlzLl91c2VyUHJvZmlsZVBpYyxcbiAgICAgICAgICAgICAgaWQgPSB0aGlzLl91c2VySWQpIHtcbiAgICB0aGlzLl91c2VySWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBpZDtcbiAgICB0aGlzLl91c2VyVGl0bGVFbGVtZW50LnRleHRDb250ZW50ICAgICAgPSB0aXRsZTtcbiAgICB0aGlzLl91c2VyU3VidGl0bGVFbGVtZW50LnRleHRDb250ZW50ICAgPSBzdWJ0aXRsZTtcbiAgICB0aGlzLl91c2VyUHJvZmlsZVBpY0VsZW1lbnQuc3JjICAgICAgICAgPSBhdmF0YXI7XG4gICAgdGhpcy5fdXNlclByb2ZpbGVQaWNFbGVtZW50LmFsdCAgICAgICAgID0gdGl0bGU7XG4gICAgdGhpcy5fdXNlclRpdGxlICAgICAgICAgICAgICAgICAgICAgICAgID0gdGl0bGU7XG4gICAgdGhpcy5fdXNlclN1YnRpdGxlICAgICAgICAgICAgICAgICAgICAgID0gc3VidGl0bGU7XG4gICAgdGhpcy5fdXNlclByb2ZpbGVQaWMgICAgICAgICAgICAgICAgICAgID0gYXZhdGFyO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvOyIsIi8vIFNldHRpbmdzIG5lZWRlZCBmb3IgZm9ybSB2YWxpZGF0aW9uXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRpb25TZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yICAgICAgICA6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3IgICAgICAgOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zdWJtaXRcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzcyA6IFwicG9wdXBfX3N1Ym1pdF9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3MgICAgIDogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzICAgICAgICAgIDogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiXG59O1xuXG4vLyBTZWxlY3RvcnMgZm9yIHNlbGVjdGluZyBVc2VyIEluZm9ybWF0aW9uIG9uIHRoZSB3ZWJwYWdlIC0gdGl0bGUsIHN1YnRpdGxlIGFuZCBhdmF0YXJcbmV4cG9ydCBjb25zdCB1c2VySW5mb1NlbGVjdG9ycyA9IHtcbiAgdXNlclRpdGxlU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIHVzZXJTdWJ0aXRsZVNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxuICB1c2VyUHJvZmlsZVBpY1NlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXJcIlxufTtcblxuLy8gU2VsZWN0IHBhZ2UgbG9nbyBFbGVtZW50XG5leHBvcnQgY29uc3QgcGFnZUxvZ29FbGVtZW50ICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9nb1wiKTtcblxuLy8gU2VsZWN0IHJlcXVpcmVkIERPTSBFbGVtZW50cyBmcm9tIFVzZXIgUHJvZmlsZVxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlQnRuICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xuXG4vLyBTZWxlY3QgcmVxdWlyZWQgRE9NIEVsZW1lbnRzIGZyb20gRWRpdCBVc2VyIFByb2ZpbGUgUG9wdXBcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZVBvcHVwICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9yZWxfcHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZVBvcHVwRm9ybSAgID0gZWRpdFByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ICAgPSBlZGl0UHJvZmlsZVBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiI25hbWUtaW5wdXRcIik7XG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGVBYm91dElucHV0ICA9IGVkaXRQcm9maWxlUG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjYWJvdXQtaW5wdXRcIik7XG5cbi8vIFNlbGVjdCByZXF1aXJlZCBET00gRWxlbWVudHMgZm9yIGFkZGluZyBuZXcgSW1hZ2VcbmV4cG9ydCBjb25zdCBhZGRJbWdCdG4gICAgICAgICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xuXG4vLyBTZWxlY3QgcmVxdWlyZWQgRE9NIEVsZW1lbnRzIGZyb20gQWRkIE5ldyBJbWFnZSBQb3B1cFxuZXhwb3J0IGNvbnN0IGFkZEltZ1BvcHVwICAgICAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3JlbF9wbGFjZVwiKTtcbmV4cG9ydCBjb25zdCBhZGRJbWdQb3B1cEZvcm0gICAgICAgID0gYWRkSW1nUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcblxuLy8gU2VsZWN0IHJlcXVpcmVkIERPTSBFbGVtZW50cyBmb3IgdXBkYXRpbmcgQXZhdGFyXG5leHBvcnQgY29uc3QgdXBkYXRlQXZhdGFyQnRuICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLXVwZGF0ZS1idXR0b25cIik7XG5cbi8vIFNlbGVjdCByZXF1aXJlZCBET00gRWxlbWVudHMgZnJvbSBVcGRhdGUgQXZhdGFyIFBvcHVwXG5leHBvcnQgY29uc3QgdXBkYXRlQXZhdGFyUG9wdXAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfcmVsX2F2YXRhclwiKTtcbmV4cG9ydCBjb25zdCB1cGRhdGVBdmF0YXJQb3B1cEZvcm0gID0gdXBkYXRlQXZhdGFyUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTsiLCIvLyBGdW5jdGlvbiB0aGF0IHNldHMgdGhlIG1lc3NhZ2Ugb24gdGhlIHN1Ym1pdCBidXR0b24gd2hpbGUgdGhlIGRhdGEgaXMgbG9hZGluZ1xuZXhwb3J0IGNvbnN0IHNldERhdGFMb2FkaW5nTXNnID0gKGZvcm0sIGxvYWRpbmdNc2cpID0+IHtcbiAgZm9ybS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXRcIikudGV4dENvbnRlbnQgPSBsb2FkaW5nTXNnO1xufSIsIi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltcG9ydCBNb2R1bGVzIGFuZCBDb25zdGFudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbi8vIEltcG9ydCBtYWluIHN0eWxlc2hlZXRcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG4vLyBJbXBvcnQgbW9kdWxlc1xuaW1wb3J0IEFwaSAgICAgICAgICAgICAgICAgIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IENhcmQgICAgICAgICAgICAgICAgIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yICAgICAgICBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSAgICAgICAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlICAgICAgIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBEZWxldGVDYXJkICAgICAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiAgICAgICAgICAgICAgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvICAgICAgICAgICAgIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCJcblxuLy8gSW1wb3J0IGxvZ28gYW5kIHByb2ZpbGUgcGljdHVyZVxuaW1wb3J0IHBhZ2VMb2dvVXJsICAgICAgICAgIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcblxuLy8gSW1wb3J0IHBhZ2UgbG9nbyBhbmQgcHJvZmlsZSBwaWN0dXJlIEVsZW1lbnRzXG5pbXBvcnQgeyBwYWdlTG9nb0VsZW1lbnQgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEltcG9ydCByZXF1aXJlZCBjb25zdGFudHMgZnJvbSBVc2VyIFByb2ZpbGVcbmltcG9ydCB7IGVkaXRQcm9maWxlQnRuIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vLyBJbXBvcnQgcmVxdWlyZWQgY29uc3RhbnRzIGZyb20gRWRpdCBVc2VyIFByb2ZpbGUgUG9wdXBcbmltcG9ydCB7XG4gIGVkaXRQcm9maWxlUG9wdXBGb3JtLFxuICBlZGl0UHJvZmlsZU5hbWVJbnB1dCxcbiAgZWRpdFByb2ZpbGVBYm91dElucHV0XG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gSW1wb3J0IHJlcXVpcmVkIGNvbnN0YW50cyBuZWVkZWQgZm9yIGFkZGluZyBuZXcgSW1hZ2VcbmltcG9ydCB7IGFkZEltZ0J0biB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gSW1wb3J0IHJlcXVpcmVkIGNvbnN0YW50cyBmcm9tIEFkZCBOZXcgSW1hZ2UgUG9wdXBcbmltcG9ydCB7IGFkZEltZ1BvcHVwRm9ybSB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gSW1wb3J0IHJlcXVpcmVkIGNvbnN0YW50cyBuZWVkZWQgZm9yIFVzZXIgQXZhdGFyXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXJCdG4gfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEltcG9ydCByZXF1aXJlZCBjb25zdGFudHMgZnJvbSBVcGRhdGUgQXZhdGFyIFBvcHVwXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXJQb3B1cEZvcm0gfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEltcG9ydCBGb3JtIFZhbGlkYXRpb24gU2V0dGluZ3MgYW5kIEVsZW1lbnQgU2VsZWN0b3JzXG5pbXBvcnQge1xuICBmb3JtVmFsaWRhdGlvblNldHRpbmdzLFxuICB1c2VySW5mb1NlbGVjdG9yc1xufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEltcG9ydCB1dGlsaXR5IGZ1bmN0aW9uc1xuaW1wb3J0IHsgc2V0RGF0YUxvYWRpbmdNc2cgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVzdGFibGlzaCBjb25uZWN0aW9uIHdpdGggQVBJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI5YmM5YzBmMS01YThhLTQwYWEtYjk4NS0yMGU3YjI0ZDEzODlcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB9XG59KTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmcgbG9nbyBmb3IgdGhlIHdlYnBhZ2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4vLyBTZXQgTG9nbyBmb3IgdGhlIHdlYnBhZ2VcbnBhZ2VMb2dvRWxlbWVudC5zcmMgICA9IHBhZ2VMb2dvVXJsO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JtIFZhbGlkYXRpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4vLyBJbXBsZW1lbnQgZm9ybSB2YWxpZGF0aW9ucyBmb3IgYWxsIHRoZSBmb3Jtc1xuY29uc3QgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yICA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsIGVkaXRQcm9maWxlUG9wdXBGb3JtKTtcbmNvbnN0IGFkZEltZ0Zvcm1WYWxpZGF0b3IgICAgICAgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvblNldHRpbmdzLCBhZGRJbWdQb3B1cEZvcm0pO1xuY29uc3QgdXBkYXRlQXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsIHVwZGF0ZUF2YXRhclBvcHVwRm9ybSk7XG5lZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkSW1nRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG51cGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgSW50aWFsIFVzZXIgSW5mbyBvbiBQYWdlIExvYWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4vLyBBZGQgdXNlciBpbmZvIG9uIHBhZ2UgbG9hZFxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh1c2VySW5mb1NlbGVjdG9ycyk7XG5hcGkuZ2V0VXNlckRhdGEoKVxuICAudGhlbiggdXNlckRhdGEgPT4ge1xuICAgIGNvbnN0IHtuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWR9ID0gdXNlckRhdGE7XG4gICAgdXNlci5zZXRVc2VySW5mbyhuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQpO1xuICB9KVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFkZCBJbnRpYWwgSW1hZ2UgQ2FyZHMgb24gUGFnZSBMb2FkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4vLyBJbml0aWFsaXplIEltYWdlIFBvcHVwXG5jb25zdCBpbWdQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9yZWxfaW1hZ2VcIik7XG5pbWdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBGdW5jdGlvbiB0aGF0IHJldHVybnMgbmV3IEltYWdlIGNhcmRcbmNvbnN0IGdldE5ld0ltZ0NhcmQgPSBpdGVtID0+IHtcbiAgY29uc3QgbmV3SW1nQ2FyZFNldHR0aW5ncyA9IHtcbiAgICBjYXJkOiBpdGVtLFxuICAgIGhhbmRsZUNhcmRDbGljazogKG5hbWUsIGxpbmspID0+IGltZ1BvcHVwLm9wZW4obmFtZSwgbGluayksXG4gICAgaGFuZGxlVHJhc2hCdG5DbGljazogZSA9PiBkZWxldGVJbWdQb3B1cC5vcGVuKGUsIGl0ZW0uX2lkKSxcbiAgICBoYW5kbGVMaWtlQnRuQ2xpY2s6IChpc0ltZ0FscmVhZHlMaWtlZCwgY2FyZElkKSA9PiB7XG4gICAgICBpZihpc0ltZ0FscmVhZHlMaWtlZCkge1xuICAgICAgICBhcGkudW5saWtlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgLnRoZW4obmV3SW1nLnJlbmRlckxpa2VzKVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGkubGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAudGhlbihuZXdJbWcucmVuZGVyTGlrZXMpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBuZXdJbWcgPSBuZXcgQ2FyZChuZXdJbWdDYXJkU2V0dHRpbmdzLCBcIiNlbGVtZW50LXRlbXBsYXRlXCIsIHVzZXIuZ2V0VXNlckluZm8oKS5pZCk7XG4gIHJldHVybiBuZXdJbWc7XG59XG5cbi8vIEZ1bmN0aW9uIHRoYXQgcmVuZGVycyBlYWNoIGltYWdlIGNhcmQgdG8gdGhlIERPTVxuY29uc3QgcmVuZGVySW1nQ2FyZCA9IGl0ZW0gPT4ge1xuICBjb25zdCBuZXdJbWdDYXJkRWxlbWVudCA9IGdldE5ld0ltZ0NhcmQoaXRlbSkuZ2VuZXJhdGVDYXJkKCk7XG4gIGltZ0NhcmRzTGlzdC5hZGRJdGVtKG5ld0ltZ0NhcmRFbGVtZW50KTtcbn1cblxuLy8gQWRkIGludGlhbCBjYXJkcyBvbiBwYWdlIGxvYWRcbmNvbnN0IGltZ0NhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHsgcmVuZGVyZXI6IHJlbmRlckltZ0NhcmQgfSwgXCIuZWxlbWVudHNcIik7XG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oY2FyZHMgPT4gaW1nQ2FyZHNMaXN0LnJlbmRlckl0ZW1zKGNhcmRzKSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG4vLyAgICAgICAgICAgICAgICAgIEluaXRpYWxpemUgYWxsIFBvcHVwcyBhbmQgU2V0IEV2ZW50IExpc3RlbmVycyBvbiB0aGVtICAgICAgICAgICAgICAgICAgICAgICAgLy9cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAvL1xuXG4vLyBJbml0aWFsaXplIEVkaXQgUHJvZmlsZSBQb3B1cFxuY29uc3QgaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0ID0gKHt0aXRsZSwgc3VidGl0bGV9KSA9PiB7XG4gIHNldERhdGFMb2FkaW5nTXNnKGVkaXRQcm9maWxlUG9wdXBGb3JtLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpLnVwZGF0ZVVzZXJEYXRhKHRpdGxlLCBzdWJ0aXRsZSlcbiAgICAudGhlbih1cGRhdGVkVXNlckRhdGEgPT4ge1xuICAgICAgY29uc3Qge25hbWUsIGFib3V0fSA9IHVwZGF0ZWRVc2VyRGF0YTtcbiAgICAgIHVzZXIuc2V0VXNlckluZm8obmFtZSwgYWJvdXQpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHNldERhdGFMb2FkaW5nTXNnKGVkaXRQcm9maWxlUG9wdXBGb3JtLCBcIlNhdmVcIikpO1xuICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xufVxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3JlbF9wcm9maWxlXCIsIGhhbmRsZUVkaXRQcm9maWxlRm9ybVN1Ym1pdCk7XG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIEluaXRpYWxpemUgQWRkIEltYWdlIFBvcHVwXG5jb25zdCBoYW5kbGVBZGRJbWdGb3JtU3VibWl0ID0gKHtuYW1lLCBsaW5rfSkgPT4ge1xuICBzZXREYXRhTG9hZGluZ01zZyhhZGRJbWdQb3B1cEZvcm0sIFwiQ3JlYXRpbmcuLi5cIik7XG4gIGFwaS5hZGROZXdDYXJkKG5hbWUsIGxpbmspXG4gICAgLnRoZW4obmV3Q2FyZERhdGEgPT4gaW1nQ2FyZHNMaXN0LmFkZEl0ZW0oZ2V0TmV3SW1nQ2FyZChuZXdDYXJkRGF0YSkuZ2VuZXJhdGVDYXJkKCkpKVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiBzZXREYXRhTG9hZGluZ01zZyhhZGRJbWdQb3B1cEZvcm0sIFwiQ3JlYXRlXCIpKTtcbiAgYWRkSW1nUG9wdXAuY2xvc2UoKTtcbiAgYWRkSW1nRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xufVxuY29uc3QgYWRkSW1nUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9yZWxfcGxhY2VcIiwgaGFuZGxlQWRkSW1nRm9ybVN1Ym1pdCk7XG5hZGRJbWdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBJbml0aWFsaXplIFVwZGF0ZSBBdmF0YXIgUG9wdXBcbmNvbnN0IGhhbmRsZVVwZGF0ZUF2YXRhckZvcm1TdWJtaXQgPSAoe2F2YXRhcmxpbmt9KSA9PiB7XG4gIHNldERhdGFMb2FkaW5nTXNnKHVwZGF0ZUF2YXRhclBvcHVwRm9ybSwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaS51cGRhdGVVc2VyQXZhdGFyKGF2YXRhcmxpbmspXG4gICAgLnRoZW4oKHt0aXRsZSwgc3VidGl0bGUsIGF2YXRhcn0pID0+IHVzZXIuc2V0VXNlckluZm8odGl0bGUsIHN1YnRpdGxlLCBhdmF0YXIpKVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiBzZXREYXRhTG9hZGluZ01zZyh1cGRhdGVBdmF0YXJQb3B1cEZvcm0sIFwiU2F2ZVwiKSk7XG4gICAgdXBkYXRlVXNlckF2YXRhclBvcHVwLmNsb3NlKCk7XG4gICAgdXBkYXRlQXZhdGFyRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xufVxuY29uc3QgdXBkYXRlVXNlckF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcmVsX2F2YXRhclwiLCBoYW5kbGVVcGRhdGVBdmF0YXJGb3JtU3VibWl0KTtcbnVwZGF0ZVVzZXJBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBJbml0aWFsaXplIERlbGV0ZSBJbWFnZSBQb3B1cFxuY29uc3QgaGFuZGxlRGVsZXRlSW1nRm9ybVN1Ym1pdCA9IChjYXJkSWQsIGNhcmRUb0RlbGV0ZSkgPT4ge1xuICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZFRvRGVsZXRlLnJlbW92ZSgpO1xuICAgICAgY2FyZFRvRGVsZXRlID0gbnVsbDtcbiAgICAgIGRlbGV0ZUltZ1BvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xufVxuY29uc3QgZGVsZXRlSW1nUG9wdXAgPSBuZXcgUG9wdXBEZWxldGVDYXJkKFwiLnBvcHVwX3JlbF9kZWxldGVcIiwgaGFuZGxlRGVsZXRlSW1nRm9ybVN1Ym1pdCk7XG5kZWxldGVJbWdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogLy9cbi8vICAgICAgICAgICAgICAgICAgU2V0IEV2ZW50IExpc3RlbmVycyBvbiBhbGwgdGhlIGJ1dHRvbnMgb24gdGhlIHdlYnBhZ2UgICAgICAgICAgICAgICAgICAgICAgICAvL1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIC8vXG5cbi8vIEFkZCBFdmVudCBMaXN0ZW5lciB0byBQcm9maWxlIEVkaXQgQnV0dG9uXG5jb25zdCBoYW5kbGVFZGl0UHJvZmlsZSA9ICgpID0+IHtcbiAgY29uc3Qge25hbWUsIGFib3V0fSAgICAgICAgICAgPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gIGVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xuICBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSAgICA9IG5hbWU7XG4gIGVkaXRQcm9maWxlQWJvdXRJbnB1dC52YWx1ZSAgID0gYWJvdXQ7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xufVxuZWRpdFByb2ZpbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUVkaXRQcm9maWxlKTtcblxuLy8gQWRkIEV2ZW50IExpc3RlbmVyIHRvIEFkZCBJbWFnZSBCdXR0b25cbmNvbnN0IGhhbmRsZUFkZEltZyA9ICgpID0+IHtcbiAgYWRkSW1nUG9wdXAub3BlbigpO1xuICBhZGRJbWdGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIGFkZEltZ0Zvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xufVxuYWRkSW1nQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVBZGRJbWcpO1xuXG4vLyBBZGQgRXZlbnQgTGlzdGVuZXIgdG8gVXBkYXRlIEF2YXRhciBCdXR0b25cbmNvbnN0IGhhbmRsZVVwZGF0ZUF2YXRhciA9ICgpID0+IHtcbiAgdXBkYXRlVXNlckF2YXRhclBvcHVwLm9wZW4oKTtcbiAgdXBkYXRlQXZhdGFyRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB1cGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTtcbn1cbnVwZGF0ZUF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlVXBkYXRlQXZhdGFyKSIsIi8qKlxuICogVGhpcyBtb2R1bGUgdGFrZXMgY2FyZSBvZiBhbGwgdGhlIHJlcXVlc3RzIG1hZGUgdG8gdGhlIEFQSSAtIGh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY29cbiAqIEBtb2R1bGUgQXBpXG4gKi9cblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyBhbGwgdGhlIEFQSSByZWxhdGVkIHJlcXVlc3RzICovXG5jbGFzcyBBcGkge1xuICAvKipcbiAgICogU2V0cyB0aGUgYmFzZSBVUkwgYW5kIGhlYWRlciBhdXRob3JpemF0aW9uIHRva2VuIGZvciB0aGUgQVBJIGVuZHBvaW50cy5cbiAgICogQHBhcmFtIHtvcHRpb25zfSBvYmogLSBBbiBvYmplY3QgaGF2aW5nIHRoZSBiYXNlIFVSTCBhbmQgaGVhZGVyc1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyl7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0aGUgc2VydmVyJ3MgcmVzcG9uc2Ugb2YgdGhlIEZldGNoIEFQSSBjYWxsIHRvIHRlbGwgd2hldGhlciBpdCB3YXMgc3VjY2Vzc2Z1bCBvciBub3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2Ugb2YgdGhlIEZldGNoIEFQSSBjYWxsLlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IElmIHRoZSByZXNwb25zZSB3YXMgc3VjY2Vzc2Z1bCwgcmV0dXJucyB0aGUgSlNPTiBlbHNlIGEgUHJvbWlzZSBvYmplY3Qgd2l0aCBhIGdpdmVuIHJlYXNvbi5cbiAgICovXG4gIF9jaGVja1Jlc3BvbnNlU3RhdHVzID0gcmVzcG9uc2UgPT4ge1xuICAgIHJldHVybiAocmVzcG9uc2Uub2spXG4gICAgICA/IHJlc3BvbnNlLmpzb24oKVxuICAgICAgOiBQcm9taXNlLnJlamVjdChgRXJyb3IgQ29kZTogJHtyZXNwb25zZS5zdGF0dXN9IHwgRXJyb3IgTXNnOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGluaXRpYWwgaW1hZ2UgY2FyZHMgZnJvbSB0aGUgc2VydmVyIHVzaW5nIGEgR0VUIHJlcXVlc3QuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFRoZSBQcm9taXNlIG9mIHRoZSBGZXRjaCBBUEkgY2FsbC5cbiAgICovXG4gIGdldEluaXRpYWxDYXJkcyA9ICgpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuIF9jaGVja1Jlc3BvbnNlU3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbmV3IGltYWdlIGNhcmQgdG8gdGhlIHNlcnZlciB1c2luZyBhIFBPU1QgcmVxdWVzdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcmROYW1lIFRoZSBuYW1lIG9mIHRoZSBwbGFjZSBpbiB0aGUgbmV3IGltYWdlIGNhcmQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJkUGljVXJsIFRoZSBVUkwgb2YgdGhlIHBpY3R1cmUgaW4gdGhlIG5ldyBpbWFnZSBjYXJkLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUaGUgUHJvbWlzZSBvZiB0aGUgRmV0Y2ggQVBJIGNhbGwuXG4gICAqL1xuICBhZGROZXdDYXJkID0gKGNhcmROYW1lLCBjYXJkUGljVXJsKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCx7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogY2FyZE5hbWUsXG4gICAgICAgIGxpbms6IGNhcmRQaWNVcmxcbiAgICAgIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuIF9jaGVja1Jlc3BvbnNlU3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGFuIGV4aXN0aW5nIGltYWdlIGNhcmQgZnJvbSB0aGUgc2VydmVyIHVzaW5nIGEgREVMRVRFIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJkSWQgVGhlIGlkIG9mIGltYWdlIGNhcmQgdG8gYmUgZGVsZXRlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gVGhlIFByb21pc2Ugb2YgdGhlIEZldGNoIEFQSSBjYWxsLlxuICAgKi9cbiAgZGVsZXRlQ2FyZCA9IGNhcmRJZCA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4gX2NoZWNrUmVzcG9uc2VTdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpa2VzIGFuIGV4aXN0aW5nIGltYWdlIGNhcmQgZnJvbSB0aGUgc2VydmVyIHVzaW5nIGEgUFVUIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJkSWQgVGhlIGlkIG9mIGltYWdlIGNhcmQgdG8gYmUgbGlrZWQuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFRoZSBQcm9taXNlIG9mIHRoZSBGZXRjaCBBUEkgY2FsbC5cbiAgICovXG4gIGxpa2VDYXJkID0gY2FyZElkID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLiBfY2hlY2tSZXNwb25zZVN0YXR1cyk7XG4gIH1cblxuICAvKipcbiAgICogVW5saWtlcyBhIGxpa2VkIGltYWdlIGNhcmQgZnJvbSB0aGUgc2VydmVyIHVzaW5nIGEgREVMRVRFIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJkSWQgVGhlIGlkIG9mIGltYWdlIGNhcmQgdG8gYmUgdW5saWtlZC5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gVGhlIFByb21pc2Ugb2YgdGhlIEZldGNoIEFQSSBjYWxsLlxuICAgKi9cbiAgdW5saWtlQ2FyZCA9IGNhcmRJZCA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4gX2NoZWNrUmVzcG9uc2VTdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB1c2VyIGRhdGEgZnJvbSB0aGUgc2VydmVyIHVzaW5nIGEgR0VUIHJlcXVlc3QuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IFRoZSBQcm9taXNlIG9mIHRoZSBGZXRjaCBBUEkgY2FsbC5cbiAgICovXG4gIGdldFVzZXJEYXRhID0gKCkgPT4ge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuIF9jaGVja1Jlc3BvbnNlU3RhdHVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IHVzZXIgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIgdXNpbmcgYSBQQVRDSCByZXF1ZXN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgVGhlIG5ldyB0aXRsZSBvciBuYW1lIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJ0aXRsZSBUaGUgbmV3IHN1YnRpdGxlIG9yIGFib3V0IGluZm8gb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICogQHJldHVybiB7UHJvbWlzZX0gVGhlIFByb21pc2Ugb2YgdGhlIEZldGNoIEFQSSBjYWxsLlxuICAgKi9cbiAgdXBkYXRlVXNlckRhdGEgPSAodGl0bGUsIHN1YnRpdGxlKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiB0aXRsZSxcbiAgICAgICAgYWJvdXQ6IHN1YnRpdGxlXG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLiBfY2hlY2tSZXNwb25zZVN0YXR1cyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY3VycmVudCB1c2VyJ3MgYXZhdGFyIGZyb20gdGhlIHNlcnZlciB1c2luZyBhIFBBVENIIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdBdmF0YXJVcmwgVGhlIG5ldyBVUkwgb2YgdGhlIHVzZXIgYXZhdGFyLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUaGUgUHJvbWlzZSBvZiB0aGUgRmV0Y2ggQVBJIGNhbGwuXG4gICAqL1xuICB1cGRhdGVVc2VyQXZhdGFyID0gbmV3QXZhdGFyVXJsID0+IHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IG5ld0F2YXRhclVybFxuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy4gX2NoZWNrUmVzcG9uc2VTdGF0dXMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiQ2FyZCIsImNhcmRUZW1wbGF0ZVNlbGVjdG9yIiwidXNlcklkIiwiY2FyZCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVRyYXNoQnRuQ2xpY2siLCJoYW5kbGVMaWtlQnRuQ2xpY2siLCJfY2FyZEltZyIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZFRpdGxlIiwiX2NhcmRMaWtlQnRuIiwiX2NhcmRMaWtlQ291bnQiLCJfY2FyZERlbGV0ZUJ0biIsIl9pbWdPd25lckluZm8iLCJfaWQiLCJfdXNlcklkIiwiZSIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX2ltZ0xpa2VzIiwic29tZSIsImxpa2UiLCJjYXJkRGF0YSIsInRleHRDb250ZW50IiwibGlrZXMiLCJsZW5ndGgiLCJ0b2dnbGUiLCJ0aGlzIiwiX2ltZ0lkIiwib3duZXIiLCJfaW1nTmFtZSIsIm5hbWUiLCJfaW1nTGluayIsImxpbmsiLCJfY2FyZERhdGEiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZVRyYXNoQnRuQ2xpY2siLCJfaGFuZGxlTGlrZUJ0bkNsaWNrIiwiX2NhcmRUZW1wbGF0ZVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NoZWNrVXNlcklkZW50aXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsIl9pc0ltZ0FscmVhZHlMaWtlZCIsIl9nZXRUZW1wbGF0ZSIsIl9nZXRDYXJkRE9NRWxlbWVudHMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJfY2hlY2tJZkxpa2VkIiwicmVuZGVyTGlrZXMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybVZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiYWRkIiwiZXJyb3JTcGFuRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUNsaWNrQ2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1Qb3B1cFNlbGVjdG9yIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0RWxlbWVudHNMaXN0IiwiZm9ybVZhbHVlcyIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWdFbGVtZW50IiwiX3BvcHVwSW1nQ2FwdGlvbkVsZW1lbnQiLCJpbWdDYXB0aW9uIiwiaW1nTGluayIsIlBvcHVwRGVsZXRlQ2FyZCIsImNhcmRJZCIsIl9jYXJkSWQiLCJfY2FyZFRvRGVsZXRlIiwiY2xvc2VzdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJjbGVhciIsIlVzZXJJbmZvIiwidXNlclRpdGxlU2VsZWN0b3IiLCJ1c2VyU3VidGl0bGVTZWxlY3RvciIsInVzZXJQcm9maWxlUGljU2VsZWN0b3IiLCJfdXNlclRpdGxlRWxlbWVudCIsIl91c2VyU3VidGl0bGVFbGVtZW50IiwiX3VzZXJQcm9maWxlUGljRWxlbWVudCIsIl91c2VyVGl0bGUiLCJfdXNlclN1YnRpdGxlIiwiX3VzZXJQcm9maWxlUGljIiwiYWJvdXQiLCJhdmF0YXIiLCJ0aXRsZSIsInN1YnRpdGxlIiwicGFnZUxvZ29FbGVtZW50IiwiZWRpdFByb2ZpbGVCdG4iLCJlZGl0UHJvZmlsZVBvcHVwRm9ybSIsImVkaXRQcm9maWxlTmFtZUlucHV0IiwiZWRpdFByb2ZpbGVBYm91dElucHV0IiwiYWRkSW1nQnRuIiwiYWRkSW1nUG9wdXBGb3JtIiwidXBkYXRlQXZhdGFyQnRuIiwidXBkYXRlQXZhdGFyUG9wdXBGb3JtIiwic2V0RGF0YUxvYWRpbmdNc2ciLCJmb3JtIiwibG9hZGluZ01zZyIsImFwaSIsIm9wdGlvbnMiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZmV0Y2giLCJfYmFzZVVybCIsImhlYWRlcnMiLCJfaGVhZGVycyIsInRoZW4iLCJfY2hlY2tSZXNwb25zZVN0YXR1cyIsImNhcmROYW1lIiwiY2FyZFBpY1VybCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmV3QXZhdGFyVXJsIiwiYmFzZVVybCIsImF1dGhvcml6YXRpb24iLCJwYWdlTG9nb1VybCIsImVkaXRQcm9maWxlRm9ybVZhbGlkYXRvciIsImFkZEltZ0Zvcm1WYWxpZGF0b3IiLCJ1cGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInVzZXIiLCJnZXRVc2VyRGF0YSIsInVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJpbWdQb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0TmV3SW1nQ2FyZCIsIml0ZW0iLCJuZXdJbWciLCJvcGVuIiwiZGVsZXRlSW1nUG9wdXAiLCJpc0ltZ0FscmVhZHlMaWtlZCIsInVubGlrZUNhcmQiLCJsaWtlQ2FyZCIsImdldFVzZXJJbmZvIiwiaW1nQ2FyZHNMaXN0IiwibmV3SW1nQ2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsImVkaXRQcm9maWxlUG9wdXAiLCJ1cGRhdGVVc2VyRGF0YSIsInVwZGF0ZWRVc2VyRGF0YSIsImZpbmFsbHkiLCJhZGRJbWdQb3B1cCIsImFkZE5ld0NhcmQiLCJuZXdDYXJkRGF0YSIsInVwZGF0ZVVzZXJBdmF0YXJQb3B1cCIsImF2YXRhcmxpbmsiLCJ1cGRhdGVVc2VyQXZhdGFyIiwiY2FyZFRvRGVsZXRlIiwiZGVsZXRlQ2FyZCIsInJlc2V0Rm9ybVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9